## Базовое содержимое рабочей папки проверки ##

      %workarea%\soluton\
Папка, содержащая скомпилированный файл решения и все прочие файлы, имеющие отношение к его работе.

      %workarea%\soluton\run
Текстовый файл, содержащий команду запуска решения. Составляется так, что может быть запущен командным интерпретатором ОС (возможно, после указания расширения).

      %workarea%\tests\
Папка, содержащая тестовые входные данные.

      %workarea%\tests\input*.txt

Текстовые файлы, содержащие входные тестовые данные для решения. Файлы нумеруются десятичными числами.

## Стандартные модули проверки ##

* **RE_ACM**

 ***Описание***

 Фиксирует ошибку времени выполнения (Runtime Error) по коду возврата решения.

 ***Предварительные требования***

 Нет.

 ***Опции***

 Нет.

* **PE_ACM**

 ***Описание***

 Фиксирует ошибку представления вывода (Presentation Error) в случае отсутствия файла `output.txt` после окончания работы решения.

 ***Предварительные требования***

 Нет.

 ***Опции***

 Нет.

* **WA_ACM**

 ***Описание***

 Фиксирует вердикт Wrong Answer по коду возврата чекера, анализирующего  выходной файл (`output.txt`) и образец ответа (`pattern.txt`).

 ***Предварительные требования***

          %workarea%\tests\pattern*.txt

 Текстовые файлы, содержащие образцы корректных выходных данных. Требуется предоставить соответствующий файл образца для каждого из имеющихся файлов входных данных.

          %workarea%\checker\

 Папка, содержащая скомпилированный файл чекера и все прочие файлы, имеющие отношение к его работе.

          %workarea%\soluton\run
 Текстовый файл, содержащий команду запуска чекера. Составляется так, что может быть запущен командным интерпретатором ОС (возможно, после указания расширения).

 Чекер запускается без опций. Обеспечивается присутствие файлов `output.txt` и `pattern.txt` в директории чекера. Ненулевой код возврата чекера трактуется как вердикт Wrong Answer.

 ***Опции***

 Нет.

* **TLE_ACM**

 ***Описание***

 Фиксирует превышение лимита времени выполнения (Time Limit Exceed).

 ***Предварительные требования***

 Нет.

 ***Опции***

 Строка опций содержит одно целое число - лимит времени выполнения в миллисекундах.

* **TLE_Asymp2**

 ***Описание***

 Фиксирует превышение асимптотической оценки времени выполнения для квадратичных функций. На основе результатов трёх тестов модуль вычисляет коэффициенты интерполяционного полинома второй степени, описывающего функцию времени для решения, и сравнивает эти коэффициенты с образцовыми. Если данных недостаточно либо полученные коэффициенты превосходят образцовые (сравнение производится от старших степеней к младшим до первого несовпадающего значения), модуль выдаёт отрицательный вердикт.

 Баллы за проверку этим модулем целесообразно назначать только для тестов, следующих за теми, которые формируют выборку для построения многочлена. Для всех предшествующих тестов будет формироваться вердикт "Недостаточно данных"

 ***Предварительные требования***

 Нет.

 ***Опции***

 Строка опций имеет вид 

          T1-X1 T2-X2 T3-X3 C2 C1 C0

 Здесь `T1`, `T2`, `T3` - номера тестов, составляющих выборку, `X1`, `X2`, `X3` - целочисленный размер входных данных на каждом из этих тестов соответственно, `C2`, `C1`, `C0` - максимальные допустимые вещественные коэффициенты полинома.

* **MLE_ACM**

 ***Описание***

 Фиксирует превышение лимита памяти (Memory Limit Exceed).

 ***Предварительные требования***

 Нет.

 ***Опции***

 Строка опций содержит одно целое число - лимит памяти в байтах.

##Использование стандартных модулей проверки###

Используемые модули проверки задачи описываются в JSON-файле в приведённом ниже формате:

      {
        "<ID_МОДУЛЯ>" : ["<ОПЦИИ>", "<ШТРАФ>", "<ТЕСТ-ВЕС>"   ],
        "RE_ACM"      : ["",        "all",     "1-0 2-0 3-0"],
        "TLE_ACM"     : ["2000",    "test",    "1-1 2-5 3-8"]
      }

Здесь:

* `<ID_МОДУЛЯ>` - текстовый идентификатор подключаемого модуля;
* `<ОПЦИИ>` - строка, передаваемая в конструктор модуля (для модулей без опций может быть пустой);
* `<ШТРАФ>` - одно из значений, определяющих тип штрафа за неверный ответ:
  * `test` - неверный ответ влечёт прекращение текущего теста (модули проверки, описанные после текущего, не будут вызваны) и обнуление набранных баллов за текущий тест;
  * `all` - неверный ответ влечёт прекращение всего тестирования и обнуление всех набранных баллов;
  * `none` - неверный ответ не приводит к изменениям в процессе тестирования.
* `<ТЕСТ-ВЕС>` - набор пар целых чисел, где `ТЕСТ` описывает номер теста, на котором будет вызван данный модуль проверки, `ВЕС` - максимальное количество очков, которое можно получить от данного модуля проверки на этом тесте.

Пример - формат тестирования ACM ICPC:

      {
        "RE_ACM"  : ["",         "all", "1-0 2-0 3-0 4-0 5-0"],
        "PE_ACM"  : ["",         "all", "1-0 2-0 3-0 4-0 5-0"],
        "TLE_ACM" : ["2000",     "all", "1-0 2-0 3-0 4-0 5-0"],
        "MLE_ACM" : ["16777216", "all", "1-0 2-0 3-0 4-0 5-0"],
        "WA_ACM"  : ["",         "all", "1-0 2-0 3-0 4-0 5-1"]
      }

Пример - формат тестирования IOI:

      {
        "RE_ACM"  : ["",         "test", "1-0 2-0 3-0 4-0 5-0"],
        "PE_ACM"  : ["",         "test", "1-0 2-0 3-0 4-0 5-0"],
        "TLE_ACM" : ["2000",     "test", "1-0 2-0 3-0 4-0 5-0"],
        "MLE_ACM" : ["16777216", "test", "1-0 2-0 3-0 4-0 5-0"],
        "WA_ACM"  : ["",         "test", "1-10 2-20 3-30 4-40 5-50"]
      }

Пример - формат с начислением баллов за удовлетворение ограничений:

      {
        "RE_ACM"  : ["",      "none", "1-0 2-0 3-0 4-0 5-0"],
        "PE_ACM"  : ["",      "none", "1-0 2-0 3-0 4-0 5-0"],
        "TLE_ACM" : ["10000", "none", "1-1"],
        "TLE_ACM" : ["8000",  "none", "2-2"],
        "TLE_ACM" : ["6000",  "none", "3-3"],
        "TLE_ACM" : ["4000",  "none", "4-4"],
        "TLE_ACM" : ["2000",  "none", "5-5"],
        "WA_ACM"  : ["",      "test", "1-0 2-0 3-0 4-0 5-0"]
      }

##Добавление собственных модулей проверки###

Класс вашего модуля проверки модуль должен наследоваться от класса `JudgeModule` и реализовывать следующие методы:

* `std::wstring id()` - идентификатор модуля (для записи в лог проверки). Как правило, совпадает с именем класса модуля;

* `std::wstring info()` - краткая информация о модуле (для записи в лог проверки);

* `void beforeSolution(int testN, ShellCommands *shell);` - операции, производимые до запуска решения на тесте;

* `void afterSolution(int testN, ShellCommands *shell);` - операции производимые после запуска решения на тесте;

 Методы `beforeSolution()` и `afterSolution()` принимают номер теста `testN` и объект `shell`, реализующий команды операционной системы. Объект `shell` содержит открытое поле `execData` - структуру, содержащую разнообразную информацию о запуске решения (код возврата, потреблённую память, время работы и т. п.). Вы можете добавить в эту структуру дополнительные поля и использовать их в своём модуле проверки, если реализуете корректную инициализацию этих полей во всех классах - наследниках `ShellCommands`.

* `std::pair<double, std::wstring> verdict()` - вердикт проверки.

 Первое поле результата содержит вещественный коэффициент в диапазоне [0; 1], характеризующий степень правильности решения. Значение 0 соответствует неправильному решению (проверка не пройдена), значение 1 - полностью правильному решению. Баллы участника за текущий тест определяются произведением этого коэффициента на максимальный балл.

 Второе поле результата содержит подробное описание вердикта (для записи в лог проверки).

* `JudgeModule *create(const std::wstring &options)` - метод, осуществляющий создание модуля проверки.

Конструктор модуля проверки должен быть объявлен приватным. Создание модулей проверки и для подключения их к тестированию осуществляется классом `JudgeModuleBuilder`. Для обеспечения возможности использовать собственный модуль следует:

* Подключить его заголовочный файл в тексте`JudgeModuleBuilder.h`
* Добавить строку

        creationMethods.insert(make_pair(L"MY_MODULE", &MY_MODULE::create));

 в конструктор класса `JudgeModuleBuilder`. Вместо `MY_MODULE` следует подставить название класса (идентификатор) вашего модуля проверки.